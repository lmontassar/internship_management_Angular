<div class="title">
    <h2>Les demandes de stages ({{Stages.length}})</h2>

</div>
<table>
    <tr>
        @if(Stages.length == 0){
            <th>Aucune demande de stage n'a été enregistrée pour le moment</th>
        }@else{
            <th>Référence</th>
            <th>Identifier</th>
            <th>date de demande</th>
            <th>Nom et Prenom</th>  
            <th>Institut</th>
            <th>type</th>
            <th>periode</th>
            <th>etat</th>
        }
    </tr>
    @for(stage of Stages; track stage.id ){
        <tr routerLink="/stageRep/{{stage.id}}">
            <td>
                {{stage.id}}/{{stage.date_demande | date:'yyyy' }}
            </td>
            @if(stage.stagiaire.cin){
                <td><span class="cin">cin</span> {{stage.stagiaire.cin}}</td>
            }@else{
                <td><span class="psprt">psp</span> {{stage.stagiaire.passport}}</td>
            }
            <td>{{stage.date_demande | date:'yyyy/MM/dd'}}</td>
            <td>{{stage.stagiaire.prenom}} {{stage.stagiaire.nom}} </td>

            <td>{{stage.stagiaire.institut}}</td>
            <td>{{stage.type}}</td>
            <td>{{stage.date_debut | date:'yyyy/MM/dd'}} - {{stage.date_fin | date:'yyyy/MM/dd'}}</td>
            <td>
                @if(stage.etat == 0){
                    <span class="Att">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/>
                        </svg>
                        En attente
                    </span>
                }@else if(stage.etat == 2){
                    <span class="Att">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/>
                        </svg>
                        En attente - confirmation 
                    </span>
                }@else if(stage.etat > 2){
                    <span class="Att">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                            <path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/>
                        </svg>
                        En Attente - Attestation
                    </span>
                }
            </td>
        </tr>
    }

    
</table>